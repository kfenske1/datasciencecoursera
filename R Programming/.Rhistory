files_list <- list.files(directory,full.names=TRUE)
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
tmp
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
head(tmp)
If(files_list == files_list[selectedidsData]) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
conditiontest<- files_list == files_list[selectedidsData]
files_list[selectedidsData]
files_list
conditiontest<- files_list %in% files_list[selectedidsData]
conditiontest
sum(conditiontest)
If(files_list %in% files_list[selectedidsData]) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
If(length(selectedidsData >0)) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
length(selectedidsData)
length(selectedidsData > 0)
length(selectedidsData) >0
If(length(selectedidsData) >0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
directory <- ("specdata")
threshold <- 5000
inputData <- complete(directory)
acceptedMonitors<- inputData[which(inputData[,"nobs"] >= threshold),]
selectedidsData <- acceptedMonitors[,"id"]
files_list <- list.files(directory,full.names=TRUE)
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
}
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
}
else {
dud <- vector(mode = "numeric", length = 0)
dud
}
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
threshold <- 400
#corr <- function(directory, threshold = 0) {
inputData <- complete(directory)
acceptedMonitors<- inputData[which(inputData[,"nobs"] >= threshold),]
selectedidsData <- acceptedMonitors[,"id"]
files_list <- list.files(directory,full.names=TRUE)
#final_df <- data
?cor
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[[i]])
}
tmp
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
dat <- do.call(rbind, tmp)
dat
head(dat)
dat[,"sulfate"]
head(tmp)
tail(tmp)
table(tmp)
summary(tmp)
summary(tmp)
head(dat)
Ans <- cor(tmp[,"sulfate"], tmp[,"nitrate"], na.rm =TRUE )
Ans <- cor(dat[,"sulfate"], dat[,"nitrate"], na.rm =TRUE )
dat <- do.call(rbind, tmp)
head(dat
)
head(selectedidsData)
threshold <- 400
#corr <- function(directory, threshold = 0) {
inputData <- complete(directory)
acceptedMonitors<- inputData[which(inputData[,"nobs"] >= threshold),]
selectedidsData <- acceptedMonitors[,"id"]
files_list <- list.files(directory,full.names=TRUE)
#final_df <- data.frame()
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
#Ans <- cor(dat[,"sulfate"], dat[,"nitrate"], na.rm =TRUE )
head(tmp)
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
head(dat)
Ans <- cor(dat[,"sulfate"], dat[,"nitrate"], na.rm =TRUE )
tail(dat)
Ans <- cor(dat[,"sulfate"], dat[,"nitrate"], use = "na.or.complete")
Ans
Ans <- cor(tmp[,"sulfate"], tmp[,"nitrate"], use = "na.or.complete")
cor(dat[2,"sulfate"], tmp[2,"nitrate"], use = "na.or.complete")
head(selectedidsData)
selectedidsData
ans <- cor(dat["ID"== i,"sulfate"], tmp["ID" == i,"nitrate"], use = "na.or.complete")
tail(dat)
ans <- cor(dat["ID"== i,"sulfate"], dat["ID" == i,"nitrate"], use = "na.or.complete")
ans
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
ans <- vector(mode = "list", length = length(selectedidsData))
ans <- cor(dat["ID"== i,"sulfate"], dat["ID" == i,"nitrate"], use = "na.or.complete")
ans <- cor(dat["ID"== 2,"sulfate"], dat["ID" == 2,"nitrate"], use = "na.or.complete")
ans
tail(dat)
dat[,"sulfate"]
head(dat)
ans <- cor(dat["ID"== 2,"sulfate"], dat["ID" == 2,"nitrate"])
ans
dat["ID" == 2,"nitrate"]
ans <- vector(mode = "list", length = length(selectedidsData))
ans <- cor(dat["ID"== 2,"sulfate"], dat["ID" == 2,"nitrate"])
ans
ans <- cor(dat[["ID"== 2,"sulfate"]], dat[["ID" == 2,"nitrate"]], use = "na.or.complete")
head(selectedidsData)
ans <- cor(dat[["ID"== 4,"sulfate"]], dat[["ID" == 4,"nitrate"]], use = "na.or.complete")
ans <- cor(dat["ID"== 4,"sulfate"], dat["ID" == 4,"nitrate"], use = "na.or.complete")
ans
cor(dat["ID"== 4,"sulfate"], dat["ID" == 4,"nitrate"], use = "na.or.complete")
cor(dat["ID"== 4,"sulfate"], dat["ID" == 4,"nitrate"], use = "complete.obs")
dat["ID" == 2,"nitrate"]
cor(dat["ID"== 4,"sulfate"], dat["ID" == 4,"nitrate"], use = "na.or.complete")
compdat <- complete.cases(dat)
compdat
dat[compdat]
dat[compdat,]
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[compdat,]
compdat
compdat
comp
head(compdat)
cor(compdat[["ID"== 2,"sulfate"]], compdat[["ID" == 2,"nitrate"]], use = "na.or.complete")
cor(compdat["ID"== 2,"sulfate"], compdat["ID" == 2,"nitrate"], use = "na.or.complete")
cor(compdat["sulfate"], compdat["nitrate"], use = "na.or.complete")
head(compdat)
cor(compdat["sulfate"], compdat["nitrate"], use = "na.or.complete")
cor(compdat[which(compdat[, "ID"] == 2),], ["sulfate"], compdat[which(compdat[, "ID"] == 2),],["nitrate"], use = "na.or.complete")
cor(compdat[which(compdat[, "ID"] == 2),"sulfate"], compdat[which(compdat[, "ID"] == 2),["nitrate"], use = "na.or.complete")
cor(compdat[which(compdat[, "ID"] == 2),"sulfate"], compdat[which(compdat[, "ID"] == 2), "nitrate"], use = "na.or.complete")
Ans <- for(i in selectedidsData) {
ans <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
}
Ans
comp <- complete.cases(dat)
compdat <- dat[comp,]
ans <- vector(mode = "list", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
}
corvector
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- corvector()
finalvector <- rbind(finalvector, ans)
}
#nobs_df<-cbind(id = i,nobs)
finalvector <- vector(mode = "list", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- corvector
finalvector <- rbind(finalvector, ans)
}
finalvector
compdat <- dat[comp,]
finalvector <- vector(mode = "list", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- cbind(selectedidsData[i],corvector)
finalvector <- rbind(finalvector, ans)
}
corvector
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- cbind(selectedidsData[i],corvector)
finalvector <- rbind(finalvector, ans)
}
corvector
ans
selectedidsData
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- corvector
finalvector <- rbind(finalvector, ans)
}
#nobs_df<-cbind(id = i,nobs)
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
ans <- corvector
finalvector <- rbind(finalvector, ans)
}
finalvector
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- rbind(finalvector, corvector)
}
finalvector
length(corvector)
length(finalvector)
directory <- "specdata"
i
id <- 1
#2nd try
complete <- function(directory, id = 1:332) {
files_list <- list.files(directory,full.names=TRUE)
final_df <- data.frame()
for (i in id) {
read_files <- read.csv(files_list[i])
nobs<- sum(complete.cases(read_files))
nobs_df<-cbind(id = i,nobs)
final_df <- rbind(final_df, nobs_df)
}
final_df
}
for (i in id) {
read_files <- read.csv(files_list[i])
nobs<- sum(complete.cases(read_files))
nobs_df<-cbind(id = i,nobs)
final_df <- rbind(final_df, nobs_df)
}
final_df
files_list <- list.files(directory,full.names=TRUE)
final_df <- data.frame()
for (i in id) {
read_files <- read.csv(files_list[i])
nobs<- sum(complete.cases(read_files))
nobs_df<-cbind(id = i,nobs)
final_df <- rbind(final_df, nobs_df)
}
final_df
}
files_list <- list.files(directory,full.names=TRUE)
final_df <- data.frame()
for (i in id) {
read_files <- read.csv(files_list[i])
nobs<- sum(complete.cases(read_files))
nobs_df<-cbind(id = i,nobs)
final_df <- rbind(final_df, nobs_df)
}
final_df
directory <- ("specdata")
threshold <- 400
#corr <- function(directory, threshold = 0) {
inputData <- complete(directory)
acceptedMonitors<- inputData[which(inputData[,"nobs"] >= threshold),]
selectedidsData <- acceptedMonitors[,"id"]
files_list <- list.files(directory,full.names=TRUE)
#final_df <- data.frame()
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- rbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- rbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
finalvector
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
length(finalvector)
cor(compdat[which(compdat[, "ID"] == 2),"sulfate"], compdat[which(compdat[, "ID"] == 2), "nitrate"], use = "na.or.complete")
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
Ans <- for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- cbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
finalvector
} else {
dud <- vector(mode = "numeric", length = 0)
dud
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- cbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
finalvector
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- cbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
finalvector
finalvector
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- cbind(finalvector, corvector)
}
getwd()
setwd("C:/Users/Admin/datasciencecoursera/R Programming")
#dataset_url <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
#download.file(dataset_url, "specdata.zip")
#unzip("specdata.zip")
list.files("specdata")
directory <- ("specdata")
threshold <- 400
#corr <- function(directory, threshold = 0) {
inputData <- complete(directory)
acceptedMonitors<- inputData[which(inputData[,"nobs"] >= threshold),]
selectedidsData <- acceptedMonitors[,"id"]
files_list <- list.files(directory,full.names=TRUE)
#final_df <- data.frame()
if(length(selectedidsData) > 0) {
#files_list <- list.files(directory, full.names=TRUE)       #creates a list of files
tmp <- vector(mode = "list", length = length(files_list[selectedidsData]))
for (i in seq_along(files_list[selectedidsData])) {
tmp[[i]] <- read.csv(files_list[selectedidsData][[i]])
}
dat <- do.call(rbind, tmp)
comp <- complete.cases(dat)
compdat <- dat[comp,]
finalvector <- vector(mode = "numeric", length = length(selectedidsData))
for(i in selectedidsData) {
corvector <-cor(compdat[which(compdat[, "ID"] == i),"sulfate"], compdat[which(compdat[, "ID"] == i), "nitrate"], use = "na.or.complete")
#ans <- corvector
finalvector <- cbind(finalvector, corvector)
}
#nobs_df<-cbind(id = i,nobs)
finalvector
} else {
dud <- vector(mode = "numeric", length = 0)
dud
}
